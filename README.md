# Проект "MyShop" (проект в работе)

## Реализация модели онлайн магазина

Будут созданы следующие сущности:
```
// Клиент
client
{
    id
    client_name
    client_surname
    birthday
    gender
    registration_date
    address_id
}
```
```
// Товар
product
{
    id
    name
    category
    price
    available_stock // число закупленных экземпляров товара
    last_update_date // число последней закупки
    supplier_id
    image_id: UUID
}
```
```
// Поставщики
supplier
{
    id
    name
    address_id
    phone_number
}
```
```
// Изображения товаров
images
{
    id : UUID
    image: bytea
}
```

```
// Адреса

address 
{
    id
    country
    city
    street
}

```

Описанные выше сущности будут реализованы в реляционной БД PostgreSQL. По полученным таблицам, в проекте будут использоваться DAO (Data Access Objects) объекты, для получения данных в репозиториях. 

Будут реализованны популярные виды HTTP запросов (GET, POST, PUT, DELETE, PATCH).

- Для клиентов:
    
    1) Добавление клиента (на вход подается json, соответствующей структуре, описанной сверху).

    2) Удаление клиента (по его идентификатору)

    3) Получение клиентов по имени и фамилии (параметры - имя и фамилия)

    4) Получение всех клиентов (с опциональными параметрами пагинации в строке запроса: limit и offset). В случае отсутствия этих параметров будет возвращаться весь список.

    5) Изменение адреса клиента (параметры: Id и новый адрес в виде json в соответствии с выше описанным форматом)

- Для товаров:

    1) Добавление товара (на вход подается json, соответствующей структуре, описанной сверху).

    2) Уменьшение количества товара (на вход запросу подается id товара и на сколько уменьшить)

    3) Получение товара по id

    4) Получение всех доступных товаров

    5) Удаление товара по id

- Для поставщиков:

    1) Добавление поставщика (на вход подается json, соответствующей структуре, описанной сверху).

    2) Изменение адреса поставщика (параметры: Id и новый адрес в виде json в соответствии с выше описанным форматом)

    3) Удаление поставщика по id

    4) Получение всех поставщиков

    5) Получение поставщика по id

- Для изображений:

    1) добавление изображения (на вход подается byte array изображения и id товара).

    2) Изменение изображения (на вход подается id изображения и новая строка для замены)

    3) Удаление изображения по id изображения

    4) Получение изображения конкретного товара (по id товара) 
   
    5) Получение изображения по id изображения

Методы, возвращающие изображение, будут возвращать изображение (массив байт) с заголовком «application/octet-stream». При этом файл должен автоматически загружаться.

Для каждого из описанных запросов выше, если предусмотрено получение данных в теле на вход, будет проведена валидация данных и в случае, если валидация прошла неуспешно - выдан 400 код ошибки с текстом сообщения.

Если запрос предусматривает обновление данных или получение по Id, в случае отсутствия данных вернется код ошибки 404 с текстом сообщения.

Если запрос предусматривает возврат списка данных, то в случае отсутствия данных возвращается пустой список.

Полное покрытие методов спецификацией OpenAPI, наличие swagger комментариев и примеров объектов. Swagger спецификация будет отдаваться по пути 
  >http://localhost:{YourPort}/swagger/index.html

Для коммуникации с API будет использован DTO (Data Transfer Objects). Для преобразования одной модели в другую мапперы. 
API обязательно спроектирован по [RESTFUL](https://restfulapi.net/) методологии
Использование БД для хранения данных, реализация паттерна **Repository** в качестве прослойки доступа к данным.
